package org.ops4j.pax.repository.tarball;import org.ops4j.pax.repository.Artifact;import org.ops4j.pax.repository.RepositoryException;import org.ops4j.pax.repository.Resolver;import org.ops4j.pax.repository.maven.GAV;import org.ops4j.pax.repository.spi.ArtifactEntry;import org.ops4j.pax.repository.spi.IndexVisitor;import org.ops4j.pax.repository.spi.Repository;/** * This resolver assumes that the underlying Repository<String> version-less , flat keys. */public class FlatResolver implements Resolver<GAV>{    final private Repository<ArtifactEntry> m_repo;    public FlatResolver( Repository<ArtifactEntry> repo )        throws RepositoryException    {        m_repo = repo;        // eager index        repo.index( new IndexVisitor<ArtifactEntry>()        {            public void touch( ArtifactEntry key )            {                // transform key to something that we can access easily from "query" later on.            }        }        );    }    public Artifact find( GAV query )        throws RepositoryException    {        return m_repo.retrieve( mapFromIndex( query ) );    }    private ArtifactEntry mapFromIndex( GAV query )    {        return null;    }}