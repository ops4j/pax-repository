package org.ops4j.pax.repository.maven;import org.junit.Test;import org.mockito.Matchers;import org.ops4j.pax.repository.RepositoryException;import org.ops4j.pax.repository.spi.IndexVisitor;import org.ops4j.pax.repository.spi.Repository;import static org.mockito.Mockito.*;import static org.ops4j.pax.repository.base.RepositoryFactory.*;/** * */public class GavIndexTest{    @Test    public void testSync()        throws RepositoryException    {        GavIndex index = new GavIndex();        Repository<GAV> repo = mock( Repository.class );        index.sync( repo );        verify( repo ).index( Matchers.<IndexVisitor<GAV>>any() );    }    @Test( expected = IllegalStateException.class )    public void testGetWithoutSync()        throws RepositoryException    {        GavIndex index = new GavIndex();        Repository<GAV> repo = mock( Repository.class );        GAV query = mock( GAV.class );        index.get( query );    }    @Test    public void testSyncAndRetrieve()        throws RepositoryException    {        GavIndex index = new GavIndex();        Repository<GAV> repo = mock( Repository.class );        index.sync( repo );        GAV query = null;        index.get( query );    }}